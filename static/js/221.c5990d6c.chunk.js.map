{"version":3,"file":"static/js/221.c5990d6c.chunk.js","mappings":"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","sources":["components/LoadMore.jsx","components/MovieCard.jsx","components/Movies.jsx","components/hooks/useFetch.js"],"sourcesContent":["import React from 'react';\n\nconst LoadMore = ({ currentPage, totalPages, onLoadMore }) => {\n  return (\n    <div className=\"load-more\">\n      <button\n        disabled={currentPage >= totalPages}\n        onClick={onLoadMore}\n      >\n        Load More\n      </button>\n    </div>\n  );\n};\n\nexport default LoadMore;\n","import React from 'react';\n\nconst MovieCard = ({ movie, setModalData }) => {\n  const handleClick = () => {\n    setModalData(movie);\n  };\n\n  return (\n    <div className=\"card\" onClick={handleClick}>\n      <img\n        className=\"card_img\"\n        src={`https://image.tmdb.org/t/p/w400${movie.poster_path}`}\n        alt={movie.title}\n      />\n      <p className=\"card_title\">\n        {movie.title} <br />\n        <span className=\"card_text\">\n          {movie.release_date}\n        </span>\n      </p>\n    </div>\n  );\n};\n\nexport default MovieCard;\n","import React, { useState, useEffect } from 'react';\n// import { Link, useNavigate } from 'react-router-dom';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport MovieCard from './MovieCard';\nimport LoadMore from './LoadMore';\nimport useFetch from './hooks/useFetch';\nimport { usePageContext } from './context/PageContext';\n\nconst IMDB_API_KEY = '9d52264b8376313698d7d20c165a8537';\nconst IMDB_URL = 'https://api.themoviedb.org';\n\nconst Movies = () => {\n  const [query, setQuery] = useState('');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(0);\n  const [searchUrl, setSearchUrl] = useState('');\n  const { setModalData } = usePageContext();\n  const { data: searchResults, loading, error } = useFetch(searchUrl);\n  const location = useLocation();\n  const navigate = useNavigate();\n  \n\n  useEffect(() => {\n    const params = new URLSearchParams(location.search);\n    const queryParam = params.get('query');\n    const pageParam = params.get('page');\n\n    if (queryParam) {\n      setQuery(queryParam);\n      setCurrentPage(parseInt(pageParam) || 1);\n      setSearchUrl(`${IMDB_URL}/3/search/movie?api_key=${IMDB_API_KEY}&query=${queryParam}&language=en-US&page=${pageParam || 1}&include_adult=false`);\n    }\n  }, [location.search]);\n\n  useEffect(() => {\n    if (searchResults) {\n      setTotalPages(searchResults.total_pages);\n    }\n  }, [searchResults]);\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    setCurrentPage(1);\n    const newSearchUrl = `${IMDB_URL}/3/search/movie?api_key=${IMDB_API_KEY}&query=${query}&language=en-US&page=1&include_adult=false`;\n    setSearchUrl(newSearchUrl);\n    navigate(`/movies?query=${query}&page=1`);\n  };\n\n  const handleLoadMore = () => {\n    const newPage = currentPage + 1;\n    setCurrentPage(newPage);\n    const newSearchUrl = `${IMDB_URL}/3/search/movie?api_key=${IMDB_API_KEY}&query=${query}&language=en-US&page=${newPage}&include_adult=false`;\n    setSearchUrl(newSearchUrl);\n    navigate(`/movies?query=${query}&page=${newPage}`);\n  };\n\n  const handleMovieClick = (movieId) => {\n    const state = { query, currentPage };\n    console.log('Saving state to localStorage:', state);\n    localStorage.setItem('moviesState', JSON.stringify(state));\n    navigate(`/movies/${movieId}`);\n  };\n\n  return (\n    <div className=\"movies\">\n      <form onSubmit={handleSearch}>\n        <input\n          type=\"text\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          placeholder=\"Search for movies...\"\n        />\n        <button type=\"submit\">Search</button>\n      </form>\n      {loading && <p>Loading...</p>}\n      {error && <p>Error loading movies.</p>}\n      <div className=\"gallery\">\n        {searchResults && searchResults.results.map(movie => (\n          <div key={movie.id} onClick={() => handleMovieClick(movie.id)}>\n            <MovieCard movie={movie} setModalData={setModalData} />\n          </div>\n        ))}\n      </div>\n      {searchResults && searchResults.results.length > 0 && (\n        <LoadMore currentPage={currentPage} totalPages={totalPages} onLoadMore={handleLoadMore} />\n      )}\n    </div>\n  );\n};\n\nexport default Movies;\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!url) return; // Add this check to ensure URL is valid\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(url);\n        setData(response.data);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [url]);\n\n  return { data, loading, error };\n};\n\nexport default useFetch;\n"],"names":["_ref","currentPage","totalPages","onLoadMore","_jsx","className","children","disabled","onClick","movie","setModalData","_jsxs","src","concat","poster_path","alt","title","release_date","IMDB_API_KEY","IMDB_URL","_useState","useState","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","setCurrentPage","_useState5","_useState6","setTotalPages","_useState7","_useState8","searchUrl","setSearchUrl","usePageContext","_useFetch","useFetch","searchResults","data","loading","error","location","useLocation","navigate","useNavigate","useEffect","params","URLSearchParams","search","queryParam","get","pageParam","parseInt","total_pages","onSubmit","e","preventDefault","newSearchUrl","type","value","onChange","target","placeholder","results","map","movieId","state","console","log","localStorage","setItem","JSON","stringify","handleMovieClick","id","MovieCard","length","LoadMore","newPage","url","setData","setLoading","setError","fetchData","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","axios","sent","t0","finish","stop","apply","arguments"],"sourceRoot":""}