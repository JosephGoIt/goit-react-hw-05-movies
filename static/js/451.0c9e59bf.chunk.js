"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[451],{451:function(e,t,a){a.r(t);var r=a(439),n=a(791),s=a(87),c=a(242),o=a(678),i=a(709),l=a(4),u=a(184);t.default=function(){var e=(0,n.useState)(1),t=(0,r.Z)(e,2),a=t[0],d=t[1],f=(0,n.useState)(0),p=(0,r.Z)(f,2),m=p[0],v=p[1],h=(0,l.l)().setModalData,g="".concat("https://api.themoviedb.org","/3/trending/movie/day?api_key=").concat("9d52264b8376313698d7d20c165a8537","&page=").concat(a),x=(0,i.Z)(g),j=x.data,Z=x.loading,k=x.error;(0,n.useEffect)((function(){j&&v(j.total_pages)}),[j]);return Z?(0,u.jsx)("p",{children:"Loading..."}):k?(0,u.jsx)("p",{children:"Error loading movies."}):(0,u.jsxs)("div",{className:"home",children:[(0,u.jsx)("div",{className:"gallery",children:j.results.map((function(e){return(0,u.jsx)(s.rU,{to:"/movies/".concat(e.id),state:{from:"/"},children:(0,u.jsx)(c.Z,{movie:e,setModalData:h})},e.id)}))}),(0,u.jsx)(o.Z,{currentPage:a,totalPages:m,onLoadMore:function(){d((function(e){return e+1}))}})]})}},678:function(e,t,a){a(791);var r=a(184);t.Z=function(e){var t=e.currentPage,a=e.totalPages,n=e.onLoadMore;return(0,r.jsx)("div",{className:"load-more",children:(0,r.jsx)("button",{disabled:t>=a,onClick:n,children:"Load More"})})}},242:function(e,t,a){a(791);var r=a(184);t.Z=function(e){var t=e.movie,a=e.setModalData;return(0,r.jsxs)("div",{className:"card",onClick:function(){a(t)},children:[(0,r.jsx)("img",{className:"card_img",src:"https://image.tmdb.org/t/p/w400".concat(t.poster_path),alt:t.title}),(0,r.jsxs)("p",{className:"card_title",children:[t.title," ",(0,r.jsx)("br",{}),(0,r.jsx)("span",{className:"card_text",children:t.release_date})]})]})}},709:function(e,t,a){var r=a(861),n=a(439),s=a(757),c=a.n(s),o=a(791),i=a(759);t.Z=function(e){var t=(0,o.useState)(null),a=(0,n.Z)(t,2),s=a[0],l=a[1],u=(0,o.useState)(!0),d=(0,n.Z)(u,2),f=d[0],p=d[1],m=(0,o.useState)(null),v=(0,n.Z)(m,2),h=v[0],g=v[1];return(0,o.useEffect)((function(){if(e){var t=function(){var t=(0,r.Z)(c().mark((function t(){var a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.get(e);case 3:a=t.sent,l(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g(t.t0);case 10:return t.prev=10,p(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}();t()}}),[e]),{data:s,loading:f,error:h}}}}]);
//# sourceMappingURL=451.0c9e59bf.chunk.js.map