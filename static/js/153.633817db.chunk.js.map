{"version":3,"file":"static/js/153.633817db.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/MovieDetails.module.css?5587","components/MovieDetails.jsx","components/hooks/useFetch.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__VQn5L\",\"btnOverview\":\"MovieDetails_btnOverview__g85SZ\",\"movieImg\":\"MovieDetails_movieImg__SJwbW\",\"movieOverview\":\"MovieDetails_movieOverview__iZzHy\",\"castNav\":\"MovieDetails_castNav__d6xa6\"};","import React from 'react';\n// import { Link, useParams, Outlet, useNavigate, useLocation } from 'react-router-dom';\nimport { Link, useParams, Outlet, useNavigate } from 'react-router-dom';\nimport useFetch from './hooks/useFetch';\nimport { usePageContext } from './context/PageContext';\nimport styles from './MovieDetails.module.css';\n\nconst IMDB_API_KEY = '9d52264b8376313698d7d20c165a8537';\nconst IMDB_URL = 'https://api.themoviedb.org';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const { setModalData } = usePageContext();\n  const movieDetailsUrl = `${IMDB_URL}/3/movie/${movieId}?api_key=${IMDB_API_KEY}&append_to_response=credits,reviews`;\n  const { data: movie, loading, error } = useFetch(movieDetailsUrl);\n  const navigate = useNavigate();\n//   const location = useLocation();\n\n  React.useEffect(() => {\n    if (movie) {\n      setModalData(movie);\n    }\n  }, [movie, setModalData]);\n\n  if (loading) return <p>Loading...</p>;\n  if (error) return <p>Error loading movie details.</p>;\n\n  const genres = movie.genres ? movie.genres.map(genre => genre.name).join(', ') : '';\n\n  const handleGoBack = () => {\n    const moviesState = JSON.parse(localStorage.getItem('moviesState'));\n    if (moviesState) {\n      const { query, currentPage } = moviesState;\n      navigate(`/movies?query=${query}&page=${currentPage}`);\n    } else {\n      navigate('/');\n    }\n  };\n\n  return (\n    <div className={styles.movieDetails}>\n        <div className={styles.btnOverview}>\n            <div className={styles.btnImg}>\n                <button className={styles.goBack} onClick={handleGoBack}>Go Back</button>\n                <img className={styles.movieImg} src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`} alt={movie.title} />\n            </div>\n            <div className={styles.movieOverview}>\n                <h2>{movie.title}</h2>\n                {/* <p>Vote: {movie.vote_average}</p> */}\n                {/* <p>Votes: {movie.vote_count}</p> */}\n                <p>Popularity: {movie.popularity}</p>\n                {/* <p>Original Title: {movie.original_title}</p> */}\n                <h4>Genres:</h4>\n                <p>{genres}</p>\n                <h4>Overview:</h4>\n                <p>{movie.overview}</p>\n                <h4>Release Date:</h4>\n                <p>{movie.release_date}</p>\n            </div>\n        </div>\n        <nav className={styles.castNav}>\n            <h4>Additional Information</h4>\n            <Link to=\"cast\">Cast</Link>\n            <br></br>\n            <Link to=\"reviews\">Reviews</Link>\n        </nav>\n        <div className={styles.castNavOutlet}>\n            <Outlet />\n        </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst useFetch = (url) => {\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!url) return; // Add this check to ensure URL is valid\n\n    const fetchData = async () => {\n      try {\n        const response = await axios.get(url);\n        setData(response.data);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [url]);\n\n  return { data, loading, error };\n};\n\nexport default useFetch;\n"],"names":["movieId","useParams","setModalData","usePageContext","movieDetailsUrl","concat","_useFetch","useFetch","movie","data","loading","error","navigate","useNavigate","React","_jsx","children","genres","map","genre","name","join","_jsxs","className","styles","onClick","moviesState","JSON","parse","localStorage","getItem","query","currentPage","src","poster_path","alt","title","popularity","overview","release_date","Link","to","Outlet","url","_useState","useState","_useState2","_slicedToArray","setData","_useState3","_useState4","setLoading","_useState5","_useState6","setError","useEffect","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","response","_context","prev","next","axios","sent","t0","finish","stop","apply","arguments"],"sourceRoot":""}