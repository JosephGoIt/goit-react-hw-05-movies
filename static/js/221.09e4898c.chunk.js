"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[221],{678:function(e,t,a){a(791);var n=a(184);t.Z=function(e){var t=e.currentPage,a=e.totalPages,r=e.onLoadMore;return(0,n.jsx)("div",{className:"load-more",children:(0,n.jsx)("button",{disabled:t>=a,onClick:r,children:"Load More"})})}},242:function(e,t,a){a(791);var n=a(184);t.Z=function(e){var t=e.movie,a=e.setModalData;return(0,n.jsxs)("div",{className:"card",onClick:function(){a(t)},children:[(0,n.jsx)("img",{className:"card_img",src:"https://image.tmdb.org/t/p/w400".concat(t.poster_path),alt:t.title}),(0,n.jsxs)("p",{className:"card_title",children:[t.title," ",(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"card_text",children:t.release_date})]})]})}},221:function(e,t,a){a.r(t);var n=a(439),r=a(791),c=a(87),s=a(242),o=a(678),i=a(709),u=a(4),l=a(184),d="9d52264b8376313698d7d20c165a8537",f="https://api.themoviedb.org";t.default=function(){var e=(0,r.useState)(""),t=(0,n.Z)(e,2),a=t[0],p=t[1],h=(0,r.useState)(1),m=(0,n.Z)(h,2),v=m[0],g=m[1],x=(0,r.useState)(0),j=(0,n.Z)(x,2),Z=j[0],_=j[1],b=(0,r.useState)(""),k=(0,n.Z)(b,2),S=k[0],y=k[1],w=(0,u.l)().setModalData,N=(0,i.Z)(S),M=N.data,C=N.loading,D=N.error;(0,r.useEffect)((function(){M&&_(M.total_pages)}),[M]);return(0,r.useEffect)((function(){a&&y("".concat(f,"/3/search/movie?api_key=").concat(d,"&query=").concat(a,"&language=en-US&page=").concat(v,"&include_adult=false"))}),[v,a]),(0,l.jsxs)("div",{className:"movies",children:[(0,l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),g(1),y("".concat(f,"/3/search/movie?api_key=").concat(d,"&query=").concat(a,"&language=en-US&page=1&include_adult=false"))},children:[(0,l.jsx)("input",{type:"text",value:a,onChange:function(e){return p(e.target.value)},placeholder:"Search for movies..."}),(0,l.jsx)("button",{type:"submit",children:"Search"})]}),C&&(0,l.jsx)("p",{children:"Loading..."}),D&&(0,l.jsx)("p",{children:"Error loading movies."}),(0,l.jsx)("div",{className:"gallery",children:M&&M.results.map((function(e){return(0,l.jsx)(c.rU,{to:"/movies/".concat(e.id),state:{from:"/movies"},children:(0,l.jsx)(s.Z,{movie:e,setModalData:w})},e.id)}))}),M&&M.results.length>0&&(0,l.jsx)(o.Z,{currentPage:v,totalPages:Z,onLoadMore:function(){g((function(e){return e+1}))}})]})}},709:function(e,t,a){var n=a(861),r=a(439),c=a(757),s=a.n(c),o=a(791),i=a(759);t.Z=function(e){var t=(0,o.useState)(null),a=(0,r.Z)(t,2),c=a[0],u=a[1],l=(0,o.useState)(!0),d=(0,r.Z)(l,2),f=d[0],p=d[1],h=(0,o.useState)(null),m=(0,r.Z)(h,2),v=m[0],g=m[1];return(0,o.useEffect)((function(){if(e){var t=function(){var t=(0,n.Z)(s().mark((function t(){var a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.Z.get(e);case 3:a=t.sent,u(a.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),g(t.t0);case 10:return t.prev=10,p(!1),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}();t()}}),[e]),{data:c,loading:f,error:v}}}}]);
//# sourceMappingURL=221.09e4898c.chunk.js.map